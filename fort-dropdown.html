<link rel="import" href="../iron-dropdown/iron-dropdown.html">
<link rel="import" href="../neon-animation/neon-animations.html">
<link rel="import" href="fort-dropdown-expand-animation.html">
<link rel="import" href="../paper-styles/shadow.html">

<dom-module id="fort-dropdown"
            attributes="vertical-align horizontal-align disabled open-animation-config close-animation-config">
  <template>
    <style>
      :host ::content .dropdown-content {
        @apply --shadow-elevation-2dp;
      }
    </style>
    <div style="line-height: normal" on-tap="open">
      <content select=".dropdown-trigger"></content>
    </div>
    <iron-dropdown id="dropdown"
                   no-overlap
                   vertical-align="[[verticalAlign]]"
                   horizontal-align="[[horizontalAlign]]"
                   disabled="[[disabled]]"
                   open-animation-config="[[openAnimationConfig]]"
                   close-animation-config="[[closeAnimationConfig]]">
      <content select=".dropdown-content"></content>
    </iron-dropdown>
  </template>
  <script>
    Polymer(
      {
        is: 'fort-dropdown',

        properties: {
          verticalAlign:       {
            type:  String,
            value: "top"
          },
          horizontalAlign:     {
            type:  String,
            value: "auto"
          },
          disabled:            Boolean,
          openAnimationConfig: {
            type:  Array,
            value: function ()
                   {
                     return [
                       {
                         name:   'fade-in-animation',
                         timing: {
                           delay:    150,
                           duration: 50
                         }
                       }, {
                         name:   'fort-dropdown-expand-animation',
                         timing: {
                           delay:    150,
                           duration: 200
                         }
                       }
                     ];
                   }
          },

          closeAnimationConfig: {
            type:  Array,
            value: function ()
                   {
                     return [
                       {
                         name:   'fade-out-animation',
                         timing: {
                           duration: 200
                         }
                       }
                     ];
                   }
          }
        },

        open: function ()
              {
                this.$.dropdown.open();
              },

        close: function ()
               {
                 this.$.dropdown.close();
               }
      }
    );
  </script>
</dom-module>
